// Generated by CoffeeScript 1.6.3
(function() {
  var success;

  success = function(data, textStatus, jqXHR) {
    var postData;
    if (data.result.length === 0) {
      postData = {
        email: "org@org.org",
        secret: "orgSecret",
        name: "orgName",
        description: "we are org",
        address: "1, Org Str",
        phoneNumber: "0123456789"
      };
      success = function(data, textStatus, jqXHR) {
        console.log("initiated orgs");
        postData = {
          _id: data.result._id,
          secret: data.result._id,
          name: "name",
          description: "first and last name",
          type: "text"
        };
        success = function(data, textStatus, jqXHR) {
          return console.log("initiated name field");
        };
        make_request("/fields", "POST", postData, success, null);
        postData = {
          _id: data.result._id,
          secret: data.result._id,
          name: "age",
          description: "age",
          type: "text"
        };
        success = function(data, textStatus, jqXHR) {
          return console.log("initiated age field");
        };
        make_request("/fields", "POST", postData, success, null);
        postData = {
          _id: data.result._id,
          secret: data.result._id,
          name: "gender",
          description: "gender",
          type: "radio"
        };
        success = function(data, textStatus, jqXHR) {
          return console.log("initiated gender field");
        };
        return make_request("/fields", "POST", postData, success, null);
      };
      return make_request("/orgs", "POST", postData, success, null);
    }
  };

  make_request("/orgs", "GET", '', success, null);

  success = function(data, textStatus, jqXHR) {
    var postData;
    if (data.result.length === 0) {
      postData = {
        email: "john@smith.com",
        internalId: "js123",
        secret: "userSecret",
        firstName: "John",
        lastName: "Smith",
        phoneNumber: "0123456789"
      };
      success = function(data, textStatus, jqXHR) {
        return console.log("initiated users");
      };
      return make_request("/users", "POST", postData, success, null);
    }
  };

  make_request("/users", "GET", '', success, null);

}).call(this);
